<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì•„ì´í…œ ë° íƒ€ê²Ÿ ì„ ì • - i know you_AI</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .ai-recommendation-banner {
      background: linear-gradient(135deg, #1a3a5f 0%, #2a5a8a 100%);
      border: 1px solid #3a6a9a;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 24px;
      color: white;
    }
    
    .ai-banner-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .ai-banner-title {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 18px;
      font-weight: 600;
    }
    
    .ai-banner-close {
      background: none;
      border: none;
      color: #b7b7c7;
      font-size: 20px;
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      transition: all 0.2s;
    }
    
    .ai-banner-close:hover {
      color: white;
      background: rgba(255, 255, 255, 0.1);
    }
    
    .ai-recommendation-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 16px;
    }
    
    .ai-recommendation-item {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 16px;
    }
    
    .ai-recommendation-item h4 {
      color: #7bb3ff;
      margin-bottom: 8px;
      font-size: 14px;
    }
    
    .ai-recommendation-item p {
      color: #ffffff;
      font-size: 16px;
      font-weight: 500;
      margin: 0;
    }
    
    .ai-banner-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
    }
    
    .btn-ai-modify {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }
    
    .btn-ai-modify:hover {
      background: rgba(255, 255, 255, 0.3);
      border-color: rgba(255, 255, 255, 0.5);
    }
    
    .btn-ai-accept {
      background: #50c878;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }
    
    .btn-ai-accept:hover {
      background: #3cb371;
      transform: translateY(-1px);
    }
    
    .ai-recommendation-note {
      text-align: center;
      font-size: 12px;
      color: #b7b7c7;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    @media (max-width: 768px) {
      .ai-recommendation-content {
        grid-template-columns: 1fr;
      }
      
      .ai-banner-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- ì¢Œì¸¡ ë©”ë‰´ -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h3>i know you_AI</h3>
        <p>ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ ì§€ì› AI</p>
      </div>
      
      <nav class="sidebar-nav">
        <div class="nav-section current-step-section">
          <h4>í˜„ì¬ ë‹¨ê³„: ë¦¬ì„œì¹˜</h4>
          <div class="step-progress-indicator">
            <div class="progress-bar">
              <div class="progress-fill" style="width: 33%"></div>
            </div>
            <span class="progress-text">1/3 ë‹¨ê³„ ì™„ë£Œ</span>
          </div>
          <ul>
            <li><a href="index.html" class="nav-item" data-section="main">
              ë©”ì¸ ëŒ€ì‹œë³´ë“œ
            </a></li>
            <li><a href="ai-recommendation.html" class="nav-item" data-section="ai-recommendation">
              AI ì¶”ì²œ
            </a></li>
            <li><a href="item-selection.html" class="nav-item active" data-section="item-selection">
              ì•„ì´í…œ ë° íƒ€ê²Ÿ ì„ ì •
              <span class="nav-status current">ì§„í–‰ ì¤‘</span>
            </a></li>
          </ul>
        </div>
        
        <div class="nav-section next-step-section">
          <h4>ë‹¤ìŒ ë‹¨ê³„: ì•„ì´ë°ì´ì…˜</h4>
          <p class="next-step-desc">ë¦¬ì„œì¹˜ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤</p>
          <ul>
            <li><a href="index.html#ideation" class="nav-item" data-section="ideation">
              ì•„ì´ë°ì´ì…˜
              <span class="nav-status locked">ì ê¹€</span>
            </a></li>
          </ul>
        </div>
        
        <div class="nav-section future-step-section">
          <h4>í–¥í›„ ë‹¨ê³„</h4>
          <p class="next-step-desc">ì•„ì´ë°ì´ì…˜ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì»¨ì…‰ì„ ê°œë°œí•˜ê³  í‰ê°€í•©ë‹ˆë‹¤</p>
          <ul>
            <li><a href="index.html#concept-development" class="nav-item" data-section="concept-development">
              ì»¨ì…‰ ê°œë°œ
              <span class="nav-status locked">ì ê¹€</span>
            </a></li>
            <li><a href="index.html#evaluation-feedback" class="nav-item" data-section="evaluation-feedback">
              í‰ê°€ ë° í”¼ë“œë°±
              <span class="nav-status locked">ì ê¹€</span>
            </a></li>
          </ul>
        </div>
      </nav>
      
      <div class="sidebar-footer">
        <div class="user-info">
          <div class="user-avatar">í™</div>
          <div class="user-details">
            <div class="user-name">í™ê¸¸ë™</div>
            <div class="user-status premium">Premium</div>
          </div>
        </div>
        <div class="premium-service-notice">
          <p>í™ê¸¸ë™ ë‹˜ì€ í˜„ì¬ Premium ì„œë¹„ìŠ¤ë¥¼ ì´ìš©ì¤‘ì…ë‹ˆë‹¤.</p>
        </div>
      </div>
    </aside>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
      <div class="container">
        <header class="selection-header">
          <div class="header-content">
            <div>
              <h1>ğŸ“‹ ì•„ì´í…œ ë° íƒ€ê²Ÿ ì„ ì •</h1>
              <p>ë¶„ì„í•  ì œí’ˆ ì¹´í…Œê³ ë¦¬ì™€ íƒ€ê²Ÿ í˜ë¥´ì†Œë‚˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</p>
            </div>
            <div class="header-actions">
              <button class="button secondary" id="btnReset">ì´ˆê¸°í™”</button>
              <button class="button primary" id="btnConfirm" disabled>ì„ ì • ì™„ë£Œ</button>
            </div>
          </div>
        </header>

        <!-- AI ì¶”ì²œ ë°°ë„ˆ -->
        <div class="ai-recommendation-banner" id="aiRecommendationBanner" style="display: none;">
          <div class="ai-banner-header">
            <div class="ai-banner-title">
              ğŸ¤– AI ì¶”ì²œ ê²°ê³¼
              <span style="font-size: 14px; font-weight: 400; opacity: 0.8;">| AIê°€ ë¶„ì„í•œ ìµœì ì˜ ì„ íƒ</span>
            </div>
            <button class="ai-banner-close" onclick="closeAiBanner()">&times;</button>
          </div>
          
          <div class="ai-recommendation-content">
            <div class="ai-recommendation-item">
              <h4>ğŸ“± ì¶”ì²œ ì•„ì´í…œ</h4>
              <p id="aiRecommendedItem">ìŠ¤ë§ˆíŠ¸í°</p>
            </div>
            <div class="ai-recommendation-item">
              <h4>ğŸ‘¥ ì¶”ì²œ í˜ë¥´ì†Œë‚˜</h4>
              <p id="aiRecommendedPersonas">P1, P2, P3</p>
            </div>
          </div>
          
          <div class="ai-banner-actions">
            <button class="btn-ai-modify" onclick="goToAiRecommendation()">AI ì¶”ì²œ ë‹¤ì‹œë°›ê¸°</button>
            <button class="btn-ai-accept" onclick="acceptAiRecommendation()">AI ì¶”ì²œ ì ìš©í•˜ê¸°</button>
          </div>
          
          <div class="ai-recommendation-note">
            ğŸ’¡ AIê°€ ì…ë ¥í•˜ì‹  í”„ë¡œì íŠ¸ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ì•„ì´í…œê³¼ í˜ë¥´ì†Œë‚˜ë¥¼ ì¶”ì²œí–ˆìŠµë‹ˆë‹¤
          </div>
        </div>

        <!-- ===== ì•„ì´í…œ & íƒ€ê²Ÿ ì„ ì • ===== -->
        <div class="grid cols-2">
          <!-- ì•„ì´í…œ ì„ íƒ -->
          <section class="card" id="item-selection">
            <h2>ğŸ“± ì•„ì´í…œ ì„ íƒ</h2>
            <div class="item-selection-content">
              <div class="selected-item">
                <div class="item-icon">ğŸ“±</div>
                <div class="item-info">
                  <h3>ìŠ¤ë§ˆíŠ¸í°</h3>
                  <p>ëª¨ë°”ì¼ í†µì‹  ë° ì»´í“¨íŒ… ë””ë°”ì´ìŠ¤</p>
                  <span class="item-status selected">ì„ íƒë¨</span>
                </div>
              </div>
              <div class="item-options">
                <h4>ë‹¤ë¥¸ ì•„ì´í…œ ì„ íƒ</h4>
                <div class="option-grid">
                  <button class="item-option selected" data-item="smartphone">ğŸ“± ìŠ¤ë§ˆíŠ¸í°</button>
                  <button class="item-option" data-item="laptop">ğŸ’» ë…¸íŠ¸ë¶</button>
                  <button class="item-option" data-item="tablet">ğŸ“± íƒœë¸”ë¦¿</button>
                  <button class="item-option" data-item="headphone">ğŸ§ í—¤ë“œí°</button>
                  <button class="item-option" data-item="smartwatch">âŒš ìŠ¤ë§ˆíŠ¸ì›Œì¹˜</button>
                  <button class="item-option" data-item="camera">ğŸ“· ì¹´ë©”ë¼</button>
                </div>
              </div>
            </div>
          </section>

          <!-- íƒ€ê²Ÿ í˜ë¥´ì†Œë‚˜ ì„ ì • -->
          <section class="card" id="persona-selection">
            <h2>ğŸ‘¥ íƒ€ê²Ÿ í˜ë¥´ì†Œë‚˜ ì„ ì •</h2>
            <div class="persona-selection-content">
              <div class="selected-personas">
                <h4>ì„ ì •ëœ í˜ë¥´ì†Œë‚˜</h4>
                <div class="persona-tags">
                  <span class="persona-tag selected" data-persona="P1">P1 Â· íŠ¸ë Œë“œ ë¯¼ê° MZ</span>
                  <span class="persona-tag selected" data-persona="P2">P2 Â· ì‹¤ìš© ì¤‘ì‹¬ ì§ì¥ì¸</span>
                  <span class="persona-tag selected" data-persona="P3">P3 Â· ì¹œí™˜ê²½ ê°€ì¹˜ ì§€í–¥</span>
                </div>
              </div>
              <div class="persona-details">
                <h4>í˜ë¥´ì†Œë‚˜ ìƒì„¸ ì •ë³´</h4>
                <div class="persona-cards">
                  <div class="persona-card-mini">
                    <div class="persona-header-mini">
                      <div class="persona-avatar-mini">P1</div>
                      <div class="persona-info-mini">
                        <h5>íŠ¸ë Œë“œ ë¯¼ê° MZ</h5>
                        <p>20-30ëŒ€, ìƒˆë¡œìš´ ê¸°ìˆ ê³¼ íŠ¸ë Œë“œì— ë¯¼ê°</p>
                      </div>
                    </div>
                  </div>
                  <div class="persona-card-mini">
                    <div class="persona-header-mini">
                      <div class="persona-avatar-mini">P2</div>
                      <div class="persona-info-mini">
                        <h5>ì‹¤ìš© ì¤‘ì‹¬ ì§ì¥ì¸</h5>
                        <p>30-40ëŒ€, ì—…ë¬´ íš¨ìœ¨ì„±ê³¼ ì‹¤ìš©ì„± ì¤‘ì‹œ</p>
                      </div>
                    </div>
                  </div>
                  <div class="persona-card-mini">
                    <div class="persona-header-mini">
                      <div class="persona-avatar-mini">P3</div>
                      <div class="persona-info-mini">
                        <h5>ì¹œí™˜ê²½ ê°€ì¹˜ ì§€í–¥</h5>
                        <p>ëª¨ë“  ì—°ë ¹ëŒ€, í™˜ê²½ ë³´í˜¸ì™€ ì§€ì†ê°€ëŠ¥ì„± ì¤‘ì‹œ</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>

        <!-- ì„ ì • ìš”ì•½ ë° í™•ì¸ -->
        <section class="card selection-summary">
          <h2>ğŸ“‹ ì„ ì • ìš”ì•½</h2>
          <div class="summary-content">
            <div class="summary-item">
              <h4>ì„ íƒëœ ì•„ì´í…œ</h4>
              <div class="summary-value" id="summaryItem">ìŠ¤ë§ˆíŠ¸í°</div>
            </div>
            <div class="summary-item">
              <h4>ì„ ì •ëœ í˜ë¥´ì†Œë‚˜</h4>
              <div class="summary-value" id="summaryPersonas">P1, P2, P3</div>
            </div>
            <div class="summary-item">
              <h4>ë¶„ì„ ë²”ìœ„</h4>
              <div class="summary-value" id="summaryScope">ìŠ¤ë§ˆíŠ¸í° ì‹œì¥ì˜ íŠ¸ë Œë“œ ë¯¼ê° MZ, ì‹¤ìš© ì¤‘ì‹¬ ì§ì¥ì¸, ì¹œí™˜ê²½ ê°€ì¹˜ ì§€í–¥ ì†Œë¹„ì ë¶„ì„</div>
            </div>
          </div>
          <div class="summary-actions">
            <button class="button secondary" id="btnBack">ë’¤ë¡œ ê°€ê¸°</button>
            <button class="button primary" id="btnStartAnalysis">ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- JavaScript íŒŒì¼ë“¤ì„ ìˆœì„œëŒ€ë¡œ ë¡œë“œ -->
  <script src="app.js"></script>
  
  <script>
    // í˜ì´ì§€ ë¡œë“œ ì‹œ AI ì¶”ì²œ ê²°ê³¼ í™•ì¸
    document.addEventListener('DOMContentLoaded', function() {
      checkAiRecommendation();
    });
    
    // AI ì¶”ì²œ ê²°ê³¼ í™•ì¸
    function checkAiRecommendation() {
      const aiRecommendation = localStorage.getItem('aiRecommendation');
      if (aiRecommendation) {
        try {
          const recommendation = JSON.parse(aiRecommendation);
          showAiRecommendationBanner(recommendation);
        } catch (e) {
          console.error('AI ì¶”ì²œ ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜:', e);
        }
      }
    }
    
    // AI ì¶”ì²œ ë°°ë„ˆ í‘œì‹œ
    function showAiRecommendationBanner(recommendation) {
      const banner = document.getElementById('aiRecommendationBanner');
      const itemElement = document.getElementById('aiRecommendedItem');
      const personasElement = document.getElementById('aiRecommendedPersonas');
      
      if (banner && itemElement && personasElement) {
        itemElement.textContent = recommendation.item;
        personasElement.textContent = recommendation.personas;
        banner.style.display = 'block';
      }
    }
    
    // AI ì¶”ì²œ ë°°ë„ˆ ë‹«ê¸°
    function closeAiBanner() {
      const banner = document.getElementById('aiRecommendationBanner');
      if (banner) {
        banner.style.display = 'none';
      }
    }
    
    // AI ì¶”ì²œ í˜ì´ì§€ë¡œ ì´ë™
    function goToAiRecommendation() {
      window.location.href = 'ai-recommendation.html';
    }
    
    // AI ì¶”ì²œ ì ìš©
    function acceptAiRecommendation() {
      const aiRecommendation = localStorage.getItem('aiRecommendation');
      if (aiRecommendation) {
        try {
          const recommendation = JSON.parse(aiRecommendation);
          
          // ì•„ì´í…œ ì„ íƒ ì ìš©
          applyAiItemRecommendation(recommendation.item);
          
          // í˜ë¥´ì†Œë‚˜ ì„ íƒ ì ìš©
          applyAiPersonaRecommendation(recommendation.personas);
          
          // ë°°ë„ˆ ë‹«ê¸°
          closeAiBanner();
          
          // ì„±ê³µ ë©”ì‹œì§€
          alert('AI ì¶”ì²œì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!');
          
        } catch (e) {
          console.error('AI ì¶”ì²œ ì ìš© ì˜¤ë¥˜:', e);
          alert('AI ì¶”ì²œ ì ìš© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        }
      }
    }
    
    // AI ì¶”ì²œ ì•„ì´í…œ ì ìš©
    function applyAiItemRecommendation(item) {
      // ì•„ì´í…œ ì˜µì…˜ ë²„íŠ¼ë“¤ ì°¾ê¸°
      const itemOptions = document.querySelectorAll('.item-option');
      
      // ê¸°ì¡´ ì„ íƒ í•´ì œ
      itemOptions.forEach(option => {
        option.classList.remove('selected');
      });
      
      // AI ì¶”ì²œ ì•„ì´í…œì— í•´ë‹¹í•˜ëŠ” ë²„íŠ¼ ì°¾ê¸° ë° ì„ íƒ
      let targetItem = 'smartphone'; // ê¸°ë³¸ê°’
      
      if (item.includes('ì»¤í”¼') || item.includes('ìŒë£Œ')) {
        targetItem = 'beverage';
      } else if (item.includes('íŒ¨ì…˜') || item.includes('ì˜ë¥˜')) {
        targetItem = 'fashion';
      } else if (item.includes('ë·°í‹°') || item.includes('í™”ì¥í’ˆ')) {
        targetItem = 'beauty';
      } else if (item.includes('ê°€ì „') || item.includes('ì „ì')) {
        targetItem = 'electronics';
      } else if (item.includes('ìë™ì°¨') || item.includes('ëª¨ë¹Œë¦¬í‹°')) {
        targetItem = 'automotive';
      }
      
      // í•´ë‹¹ ì•„ì´í…œ ë²„íŠ¼ ì„ íƒ
      const targetOption = document.querySelector(`[data-item="${targetItem}"]`);
      if (targetOption) {
        targetOption.classList.add('selected');
        
        // ì„ íƒëœ ì•„ì´í…œ ì •ë³´ ì—…ë°ì´íŠ¸
        const selectedItem = document.querySelector('.selected-item .item-info h3');
        if (selectedItem) {
          selectedItem.textContent = targetOption.textContent.replace(/[ğŸ“±ğŸ’»ğŸ“±ğŸ§âŒšğŸ“·]/, '').trim();
        }
      }
    }
    
    // AI ì¶”ì²œ í˜ë¥´ì†Œë‚˜ ì ìš©
    function applyAiPersonaRecommendation(personas) {
      // í˜ë¥´ì†Œë‚˜ íƒœê·¸ë“¤ ì°¾ê¸°
      const personaTags = document.querySelectorAll('.persona-tag');
      
      // ê¸°ì¡´ ì„ íƒ í•´ì œ
      personaTags.forEach(tag => {
        tag.classList.remove('selected');
      });
      
      // AI ì¶”ì²œ í˜ë¥´ì†Œë‚˜ì— í•´ë‹¹í•˜ëŠ” íƒœê·¸ ì„ íƒ
      if (personas.includes('P1')) {
        const p1Tag = document.querySelector('[data-persona="P1"]');
        if (p1Tag) p1Tag.classList.add('selected');
      }
      
      if (personas.includes('P2')) {
        const p2Tag = document.querySelector('[data-persona="P2"]');
        if (p2Tag) p2Tag.classList.add('selected');
      }
      
      if (personas.includes('P3')) {
        const p3Tag = document.querySelector('[data-persona="P3"]');
        if (p3Tag) p3Tag.classList.add('selected');
      }
    }
  </script>
</body>
</html>
